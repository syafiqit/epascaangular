<div class="row no-gutters justify-content-end mb-3">
  <button class="btn btn-primary" type="button" (click)="addKirModal(idBwi)">
    <i class="fa fa-plus mr-2"></i>
    Pilih
  </button>
</div>

<div class="row no-gutters align-items-center">
  <div class="primeng-datatable-container">
    <p-table
      #dataTable
      styleClass="p-datatable-striped"
      [resizableColumns]="true"
      (onLazyLoad)="getKir($event)"
      [value]="primengTableHelper.records"
      rows="{{primengTableHelper.defaultRecordsCountPerPage}}"
      [paginator]="false"
      [lazy]="true"
      [loading]="primengTableHelper.isLoading"
      [scrollable]="true"
      ScrollWidth="100%"
      [responsive]="primengTableHelper.isResponsive"
      [resizableColumns]="primengTableHelper.resizableColumns"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 130px">Tindakan</th>
          <th style="width: 150px" pSortableColumn="nama">
            Nama KIR
            <p-sortIcon field="nama"></p-sortIcon>
          </th>
          <th style="width: 130px" pSortableColumn="jumlah_bwi">
            Jumlah BWI
            <p-sortIcon field="jumlah_bwi"></p-sortIcon>
          </th>
          <th style="width: 130px" pSortableColumn="nama_daerah">
            Daerah
            <p-sortIcon field="nama_daerah"></p-sortIcon>
          </th>
          <th style="width: 130px" pSortableColumn="nama_negeri">
            Negeri
            <p-sortIcon field="nama_negeri"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-record="$implicit">
        <tr>
          <td style="width: 130px">
            <div ngbDropdown class="btn-group" role="group" container="body">
              <button
                type="button"
                class="btn btn-primary btn-primeng dropdown-toggle"
                id="action"
                ngbDropdownToggle
              >
                <i class="fa fa-cog"></i>
                <span class="caret"></span>
                Tindakan
              </button>
              <div ngbDropdownMenu aria-labelledby="action">
                <button class="dropdown-item">Padam</button>
              </div>
            </div>
          </td>
          <td style="width: 150px">
            <span class="p-column-title">Nama KIR</span>
            {{record.nama}}
          </td>
          <td style="width: 130px">
            <span class="p-column-title">Jumlah BWI</span>
            RM{{record.jumlah_bwi}}
          </td>
          <td style="width: 130px">
            <span class="p-column-title">Daerah</span>
            {{record.nama_daerah}}
          </td>
          <td style="width: 130px">
            <span class="p-column-title">Negeri</span>
            {{record.nama_negeri}}
          </td>
        </tr>
      </ng-template>
    </p-table>
    <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">No Data</div>
    <div class="primeng-paging-container justify-content-between">
      <p-paginator
        [rows]="primengTableHelper.defaultRecordsCountPerPage"
        #paginator
        (onPageChange)="getKir($event)"
        [totalRecords]="primengTableHelper.totalRecordsCount"
        [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
      ></p-paginator>
      <span class="total-records-count">
        Jumlah: {{ primengTableHelper.totalRecordsCount}}
      </span>
    </div>
  </div>
</div>
